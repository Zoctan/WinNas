参考：
老电脑安装使用 Windows (Server 2019) NAS 的摸索与尝试
https://www.bilibili.com/read/cv10110987
内容根据个人需要进行了删减。

我的硬件：
海尔 X3P 笔记本电脑
CPU：I5-4210M
内存：12GB DDR3L 1600MHz
硬盘：Sata3 500G + 2T（光驱改）
核显：HD4600 1G、独显：GT840M 2G
有线网卡：瑞昱RTL8168、无线网卡：高通AR946x

路由器：移动光猫
安卓手机：Realme X2 
苹果手机：iPhone Se

系统安装
下载：MSDN我告诉你
激活秘钥：
【Windows Server 2019 Data center】：WMDGN-G9PQG-XVVXX-R3X43-63DFG
【Windows Server 2019 Standard】：N69G4-B89J2-4G8F4-WWYCC-J464C
【Windows Server 2019 Essential】：WVDHN-86M7X-466 P 6-VHXV7-YY726
安装时要选【带有桌面体验的版本】

更改计算机名
此电脑 - 高级系统设置 - “计算机名”选项卡 - 更改... - 英文名 - 确定 - 按需重启。
 

WinServer2019安装后默认关闭无线网卡，打开【无线LAN服务】
服务器管理器 - 仪表板 - 添加角色和功能 - 一路下一步到“功能”（“选择功能”）- 勾选【无线LAN服务】- 下一步 - 勾选“如果需要，自动重新启动目标服务器” - 安装 - 重启完成。
 

通过KMS服务器激活（ping测试后选择有效的）：
zh.us.to
kms.03k.org
kms.chinancce.com
kms.shuax.com
kms.dwhd.org
kms.luody.info
kms.digiboy.ir
kms.lotro.cc
ss.yechiu.xin
www.zgbs.cc
cy2617.jios.org

Windows PowerShall（管理员）运行：
slmgr /ipk 密钥与上面一致
slmgr /skms 有效的KMS服务器
slmgr /ato
（等到弹出注册完成）
slmgr /xpr


网卡MAC绑定IP地址
把服务器的网卡MAC地址与路由器分配的IP地址进行ARP绑定。以免路由器DHCP服务器重新分配IP，导致找不到设备。
点击已连接的网络 - 属性 - 滚到最下方，“物理地址(MAC)”，记下这个MAC地址。
 
进入路由器的设置页面，开启MAC地址与IP地址绑定。
 
有线网卡绑定同理。

局域网文件共享
打开SMB 2支持
服务器管理器 - 仪表板 - 添加角色和功能 -“服务器角色”（“选择服务器角色”）选项卡 - 在右侧列表中勾选“文件和存储服务”下的“文件和 iSCSI 服务”下的【文件服务器】和【文件服务器资源管理器】- 下一步 - 勾选“如果需要，自动重新启动目标服务器”- 安装，重启完成。
 

打开网络发现和文件共享
打开iSNS Server 服务
服务器管理器 - 仪表板 - 添加角色和功能 - “功能”（“选择功能”）选项卡 - 在右侧列表中勾选“iSNS Server 服务”- 下一步 - 勾选“如果需要，自动重新启动目标服务器” - 安装，重启完成。
 
确定网络连接为专用网络
点击已连接的网络 - 属性 - 网络配置文件 - 专用
 

启用网络发现和文件共享
先确保以下服务为开启状态：
任务管理器 - “服务”选项卡 - 下方“⚙打开服务”
Function Discovery Resource Publication
UPnP Device Host
SSDP Discovery
如果是关闭的，将“启动类型”设置为【自动】，在“服务状态”处点击【启动】。如果提示暂无法启动，重启之后再试试。
 


控制面板 - 网络和 Internet-网络和共享中心 - 左侧“更改高级共享设置”，将“专用（当前配置文件）”中的“网络发现”选为“启用网络发现”，“文件和打印机共享”选为“启用文件和打印机共享”，保存更改。
 

设定共享文件夹
服务器管理器 - 文件和存储服务 - 共享，在共享列表中右键 - 新建共享...，在“选择配置文件”选项卡处的“文件共享配置文件”选择“SMB 共享 - 快速”，下一步。
 

在“共享位置”选项卡处的“共享位置”选择“键入自定义路径”，设定好你要共享的位置，比如D盘根目录。
 

在“共享名称”选项卡处的“共享名称”键入这个共享的名称，这个名称将作为在局域网内终端可以访问到的共享文件夹名，尽量不要输入中文字符。
 

在“配置共享设置”选项卡处，将三个复选框全部选中。
 
暂时不在“权限”选项卡处修改访问权限。
确认无误后，点击“创建”，完成共享文件夹的设定。
5.1.4 设定共享文件夹的访问及更改权限
 
在资源管理器中已共享的文件夹处右键打开属性-“共享”选项卡-高级共享，在“高级共享”窗口点击“权限”，将权限窗口中的Everyone删除，目的是防止家庭用户以外的访客登录。
 
添加你想要允许访问的账户，以本机管理员为例：
点击“添加”，在弹出的“选择用户和组”窗口中，点击“高级...”，在弹出的“选择用户和组”窗口中，点击“立即查找”，在下面的“搜索结果”中，找到管理员（Administrator）账户，选中，点击确定。
 
在“选择用户和组”窗口中，点击“确定”。
现在“权限”窗口中的“组或用户名”处出现了添加的管理员账户。选中它，在下方“...的权限”中，给这个用户设定访问权限——是否允许读取，允许读取但是否允许更改。
 

用局域网中一台Windows 10终端进行访问
网络 - 刷新 - 可以看到出现的WinNAS设备（设备名）：
 
双击打开，可以看到在WinNAS上共享的文件夹：
 
双击打开，输入用户名和密码
 
可以看到文件夹目录结构相同，打开成功。
 

共享权限设置
对于共享文件夹根目录：
 
服务器管理器 - 文件和存储服务 - 共享 - 在想要进行调整的共享文件夹上右键 - 属性 - 权限 - 自定义权限。
 

对于共享文件夹的子文件夹或文件（未经测试）：
子文件夹或文件 - 属性 -“安全”选项卡 - 编辑 - 在弹出的“权限”窗口的“组或用户名”中选择想要限制的用户/用户组 - 在下方的“用户/用户组的权限”进行更改；同样，如果不想放权，可以直接将该用户/用户组删除。
 

电源策略
作为下载机，除了屏幕可以关闭之外，所有其他都要以节能的方式工作，不能睡眠。
控制面板 - 硬件 - 电源选项 - 当前使用的电源选项右侧的“更改计划设置”- 更改高级电源设置。
 


远程桌面
服务端设置
win+i设置 - 系统 - 远程桌面 - 启用远程桌面，并在下面的“用户账户”中点击“选择可远程访问这台服务器的用户”，在弹出的“远程桌面用户”中，添加你想让访问的标准用户。
注意：1. 本地管理员组的所有管理员账户都可以远程桌面登录到这台服务器；
2. 无法添加一整个Users组，只能一个一个账户添加。
 

客户端：远程桌面连接
计算机输入IP或者上面设置的计算机名词。用户名密码使用可以被允许远程访问的用户。
 

远程桌面其他文章参考：
Windows Server 2019远程桌面服务许可证服务器配置与RDS客户端访问许可证安装
https://new.qq.com/rain/a/20220907A03CU600

这里用NAS服务控制台进行管理：
https://github.com/firemakergk/aquar-home
帮助文档：
https://gitee.com/firemaker/aquar-home-helper

Docker使用：
Windows docker desktop 设置2375端口远程访问：
DockerDesktop - Settings - General - Expose daemon on tcp://localhost:2375 without TLS
Windows PowerShall（管理员）运行：
netsh interface portproxy add v4tov4 listenport=2375 connectaddress=127.0.0.1 connectport=2375 listenaddress=<当前服务器ipv4地址> protocol=tcp

防火墙：出入规则把那些要开的端口都允许了。